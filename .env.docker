# Docker Compose Environment Configuration
# Copy this file to .env and update with your actual values
# NEVER commit the .env file to version control

# ==========================================
# Database Configuration
# ==========================================
DB_URL=jdbc:postgresql://postgres:5432/planify
DB_USERNAME=planify
DB_PASSWORD=planify_password_dev
DB_SCHEMA=auth
DB_POOL_SIZE=10
DB_POOL_MIN_IDLE=5
DB_CONNECTION_TIMEOUT=30000

# ==========================================
# JPA/Hibernate Configuration
# ==========================================
JPA_DDL_AUTO=validate
JPA_SHOW_SQL=true

# ==========================================
# Keycloak Configuration
# ==========================================
KEYCLOAK_URL=http://keycloak:8080
KEYCLOAK_REALM=planify
KEYCLOAK_ISSUER_URI=http://keycloak:8080/realms/planify
KEYCLOAK_JWK_SET_URI=http://keycloak:8080/realms/planify/protocol/openid-connect/certs
KEYCLOAK_ADMIN_USERNAME=admin
KEYCLOAK_ADMIN_PASSWORD=admin_password_dev

# ==========================================
# Kafka Configuration
# ==========================================
KAFKA_BOOTSTRAP_SERVERS=kafka:9092
KAFKA_CONSUMER_GROUP=user-service
KAFKA_AUTO_OFFSET_RESET=earliest
KAFKA_TOPIC_JOIN_REQUESTS=user.join-requests
KAFKA_TOPIC_INVITATIONS=user.invitations

# ==========================================
# Server Configuration
# ==========================================
SERVER_PORT=8082

# ==========================================
# Flyway Configuration
# ==========================================
FLYWAY_ENABLED=true

# ==========================================
# Actuator/Management Configuration
# ==========================================
MANAGEMENT_ENDPOINTS=health,info,metrics,prometheus
MANAGEMENT_HEALTH_SHOW_DETAILS=when-authorized
PROMETHEUS_ENABLED=true

# ==========================================
# Swagger/OpenAPI Configuration
# ==========================================
SWAGGER_ENABLED=true

# ==========================================
# Logging Configuration
# ==========================================
LOG_LEVEL_ROOT=INFO
LOG_LEVEL_APP=DEBUG
LOG_LEVEL_SPRING_WEB=DEBUG
LOG_LEVEL_SPRING_SECURITY=DEBUG
LOG_LEVEL_HIBERNATE_SQL=DEBUG

# ==========================================
# Data Retention Configuration
# ==========================================
RETENTION_ENABLED=true
RETENTION_SCHEDULE=0 0 2 * * *

# ==========================================
# Spring Profile
# ==========================================
SPRING_PROFILES_ACTIVE=dev
