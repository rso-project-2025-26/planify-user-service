# =============================================================================
# USER SERVICE - ENVIRONMENT VARIABLES
# =============================================================================
# Copy this file to .env and fill in actual values
# NEVER commit .env to version control!

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
SERVER_PORT=8082

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DB_URL=jdbc:postgresql://localhost:5432/planify
DB_USERNAME=planify
DB_PASSWORD=changeme_in_production
DB_SCHEMA=auth
DB_POOL_SIZE=10
DB_POOL_MIN_IDLE=5
DB_CONN_TIMEOUT=30000

# =============================================================================
# JPA/HIBERNATE CONFIGURATION
# =============================================================================
JPA_DDL_AUTO=validate
JPA_SHOW_SQL=false

# =============================================================================
# KEYCLOAK CONFIGURATION
# =============================================================================
KEYCLOAK_URL=http://localhost:9080
KEYCLOAK_REALM=planify
KEYCLOAK_ISSUER_URI=http://localhost:9080/realms/planify
KEYCLOAK_JWK_SET_URI=http://localhost:9080/realms/planify/protocol/openid-connect/certs

# Keycloak Admin Credentials (for provisioning)
KEYCLOAK_ADMIN_USERNAME=admin
KEYCLOAK_ADMIN_PASSWORD=changeme_in_production

# =============================================================================
# KAFKA CONFIGURATION
# =============================================================================
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_CONSUMER_GROUP=user-service
KAFKA_AUTO_OFFSET_RESET=earliest
KAFKA_TOPIC_JOIN_REQUESTS=user.join-requests
KAFKA_TOPIC_INVITATIONS=user.invitations

# =============================================================================
# FLYWAY CONFIGURATION
# =============================================================================
FLYWAY_ENABLED=true

# =============================================================================
# MANAGEMENT & MONITORING
# =============================================================================
MANAGEMENT_ENDPOINTS=health,info,metrics,prometheus
MANAGEMENT_HEALTH_SHOW_DETAILS=when-authorized
PROMETHEUS_ENABLED=true

# =============================================================================
# SWAGGER/OpenAPI
# =============================================================================
SWAGGER_ENABLED=true

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL_ROOT=INFO
LOG_LEVEL_APP=DEBUG
LOG_LEVEL_SPRING_WEB=INFO
LOG_LEVEL_SPRING_SECURITY=INFO
LOG_LEVEL_HIBERNATE_SQL=INFO

# =============================================================================
# PLANIFY CUSTOM CONFIGURATION
# =============================================================================
# Data retention job
RETENTION_ENABLED=true
RETENTION_SCHEDULE=0 0 2 * * *

# =============================================================================
# SPRING PROFILES
# =============================================================================
# Options: dev, prod, test
SPRING_PROFILES_ACTIVE=dev
